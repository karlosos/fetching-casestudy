# FetchingCasestudy

<a alt="Nx logo" href="https://nx.dev" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/nrwl/nx/master/images/nx-logo.png" width="45"></a>

‚ú® **This workspace has been generated by [Nx, a Smart, fast and extensible build system.](https://nx.dev)** ‚ú®

## Development server

Run `nx serve frontend` for a dev server. Navigate to http://localhost:4200/. The app will automatically reload if you change any of the source files.

## Understand this workspace

Run `nx graph` to see a diagram of the dependencies of the projects.

## Remote caching

Run `npx nx connect-to-nx-cloud` to enable [remote caching](https://nx.app) and make CI faster.

## Further help

Visit the [Nx Documentation](https://nx.dev) to learn more.

## Mocks

## Notes üìãÔ∏è

- I will name `tanstack-query`, `rtk-query` and `swr` as modern data fetching in the notes.
- I am not sure if it's correct way of refetching with *modern data fetching* libraries. Probably it should be loaded in the background without showing loading spinner.
- To have proper comparison I would need to disable retrying on failure for *modern data fetching*. Or at least unify them. `tanstack-query` has the best options out of the box in my opinion. I like incremental time for retrying.
- Error handling with current `api` directory is not great. When getting data from the backend that has incorrect format and can't be mapped we get `ApiError` without any details. It's hard to debug. Maybe `zod` would be a good solution for this problem? Or alternatively we could wrap `mapper` with try catch?
  - Edit `getElements` mock to see the problem.

## Roadmap üõ£Ô∏èüéØ

- [ ] `getElements` api endpoint on frontend
  - [x] tests
  - [x] mocks with msw
  - [ ] expand api with filtering and sorting
- [ ] Fetching data and displaying it
  - [x] Using simple useEffect with hook
  - [x] Using redux thunk
  - [x] Using redux createAsyncThunk 
  - [x] Using redux rtk-query
  - [x] Using tanstack-query
  - [x] Using swr
  - [x] refetching data
  - [ ] Testing each view for loading data
- [x] `deleteElement` api endpoint on frontend
  - [x] tests
  - [x] mocks with msw
- [x] Deleting element from ui using redux
  - [x] Using simple useEffect with hook
  - [ ] Using redux thunk
  - [x] Using redux createAsyncThunk 
  - [ ] using redux rtk-query
  - [x] Using tanstack-query
  - [ ] Using swr
- [ ] `createElement` api endpoint on frontend
  - [ ] tests
  - [ ] mocks with msw
- [ ] Creating element from ui using redux
  - [ ] Using simple useEffect with hook
  - [ ] Using redux thunk
  - [ ] Using redux createAsyncThunk 
  - [ ] using redux rtk-query
  - [ ] Using tanstack-query
  - [ ] Using swr
- [ ] `updateElement` api endpoint on frontend
  - [ ] tests
  - [ ] mocks with msw
- [ ] Updating element from ui using redux
  - [ ] Using simple useEffect with hook
  - [ ] Using redux thunk
  - [ ] Using redux createAsyncThunk 
  - [ ] using redux rtk-query
  - [ ] Using tanstack-query
  - [ ] Using swr
- [ ] investigate usage od `zod` in api
- [ ] investigate usage of `redux-hook-form` on update/create forms
- [ ] implement simple backend api with sqlite db
- [ ] create ui component library
- [ ] investigate integration tests with cypress/playwright instead of rtl
